{"version":3,"sources":["webpack:///./resources/js/plugins/stickyHeader.plugin.js"],"names":["__webpack_require__","r","__webpack_exports__","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","n","$window","$","window","fn","stickyHeader","options","$body","this","each","didScroll","lastScrollTop","$header","$headerContent","initialHeight","outerHeight","$searchDrawer","on","e","preventDefault","find","toggleClass","addClass","css","scroll","event","requestAnimationFrame","scrollCheck","hasScrolled","height","scrollPos","scrollTop","Math","abs","removeClass","resize"],"mappings":"kIAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,QAAAI,EAAAJ,EAAAK,EAAAF,GASIG,EAAUC,IAAEC,QAChBD,IAAEE,GAAGC,aAAe,SAAUC,GAC1B,IACIC,EAAQL,IAAE,QAEd,OAAOM,KAAKC,KAAK,WAGb,IAAIC,EACAC,EAAiB,EAEjBC,EAAiBV,IAAEM,MACnBK,EAAiBX,IAAE,mBACnBY,EAAiBF,EAAQG,cACzBC,EAAiBd,IAAE,kBACFA,IAAE,kBAGTe,GAAG,QAAS,SAASC,GAC/BA,EAAEC,iBACFH,EAAcI,KAAK,SAASC,YAAY,UAI5CT,EAAQU,SAAS,UACjBf,EAAMgB,IAAI,cAAeT,GAEzBb,EAAQuB,OAAO,SAASC,GACpBf,GAAY,IAWhBgB,sBARkB,SAAdC,IACIjB,IACAkB,IACAlB,GAAY,GAEhBgB,sBAAsBC,KAK1B,IAAIC,EAAc,WACd,IAAIC,EAAajB,EAAQG,cACrBe,EAAa7B,EAAQ8B,YAErBD,GAAanB,GACbqB,KAAKC,IAAItB,EAAgBmB,IApCZ,IA4CbA,EAAYnB,GAAiBmB,EAAYD,EAEzCjB,EACKU,SAAS,aACTC,IAAI,OAAQM,GAGjBjB,EACKsB,YAAY,aACZX,IAAI,MAAO,KAGpBZ,EAAgBmB,IAGpB7B,EAAQkC,OAAO,WAGX,IAAIN,EAAShB,EAAeE,cAE5BR,EAAMgB,IAAI,cAAeM,GACzBD","file":"/js/plugins/stickyHeader.plugin.js","sourcesContent":["/**\n *\n * jQuery Sticky Header Plugin\n */\n\n'use strict';\n\nimport $ from 'jquery';\n\nvar $window = $(window);\n$.fn.stickyHeader = function (options) {\n    var plugin = this;\n    var $body = $('body');\n\n    return this.each(function () {\n\n        // header hide and show on scroll up/down\n        var didScroll;\n        var lastScrollTop  = 0;\n        var delta          = 5;\n        var $header        = $(this);\n        var $headerContent = $('.header-content');\n        var initialHeight  = $header.outerHeight();\n        var $searchDrawer  = $('.search-drawer');\n        var $searchToggle  = $('.search-toggle');\n\n        // handle search form toggling\n        $searchToggle.on('click', function(e) {\n            e.preventDefault();\n            $searchDrawer.find('> div').toggleClass('open');\n        });\n\n        // set up JS-enabled stuff\n        $header.addClass('sticky');\n        $body.css('padding-top', initialHeight);\n\n        $window.scroll(function(event){\n            didScroll = true;\n        });\n\n        var scrollCheck = function() {\n            if (didScroll) {\n                hasScrolled();\n                didScroll = false;\n            }\n            requestAnimationFrame(scrollCheck);\n        };\n\n        requestAnimationFrame(scrollCheck);\n\n        var hasScrolled = function() {\n            var height     = $header.outerHeight();\n            var scrollPos  = $window.scrollTop();\n            var doNothing = (\n                scrollPos == lastScrollTop ||\n                Math.abs(lastScrollTop - scrollPos) <= delta\n            );\n\n            if(doNothing) {\n                return;\n            }\n\n            // If they scrolled down and are past the header, add class .header-up.\n            if (scrollPos > lastScrollTop && scrollPos > height) {\n                // Scroll Down\n                $header\n                    .addClass('header-up')\n                    .css('top', -height);\n            } else {\n                // Scroll Up\n                $header\n                    .removeClass('header-up')\n                    .css('top', '0');\n            }\n\n            lastScrollTop = scrollPos;\n        };\n\n        $window.resize(function(){\n            // check for inner containter to measure height\n            // incase the search drawer is open\n            var height = $headerContent.outerHeight();\n\n            $body.css('padding-top', height);\n            hasScrolled();\n        });\n\n    });\n};\n"],"sourceRoot":""}